<!DOCTYPE html>
<html lang="en">
    <head>
        <title>WebSocket Chat Test</title>
    </head>
    <body>
        <h2>PerfectChat Server Example</h2>
        <p>Chat Server joined on load. Press send to broadcast to others, echo to bounce a message off the Server</p>
        <div id = "main_chat" style="float: left;">
            <div id="left_side" style="float: left;width:350px; overflow:scroll">
                <div id="output"></div>
            </div>
            <div id="right_side" style="float: left; width:410px; max-height: 400px;overflow:scroll">
                <div id="clients"></div>
            </div>
            <div id="input_row" style="float: left; clear: both; width: 80%;">
                <input type=text id="userid" style="width=80%;" placeholder="userId" readonly="true"></input>
                <input type=text id="chatid" style="width=80%;" placeholder="chatId"></input>
                <input type=text id="chatinput" style="width=80%;" placeholder="message"></input>
                <button id="sendButton">Send</button>
            </div>
        </div>
    </body>
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="./js/chatfunctions.js"></script>
    <script language="javascript" type="text/javascript">
        var wsUri = "ws://"+ location.host+"/api/v1/chat/socket";
        var httpURI = "http://"+location.host+"/";
        var output, input, userid, chatid, send;
        var ws_params = {"channel":"trial1"};
        $("#chatinput").keyup(function (e) {
            if (e.keyCode == 13) {
                doSend();
            }
        });
        $("#chatid").keyup(function (e) {
            ws_params.dialog_id = null;
        });
        $("#sendButton").click(function(e) {
            doSend();
        });          
        window.addEventListener("load", init, false);
        </script>
</html>
